<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Tilstandsrapport Detaljer</title>
    <link rel="stylesheet" href="/stylesheet.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet" />
</head>
<body>
<div th:replace="~{fragments/header :: header('damageRegistration')}"></div>
<div class="container">
    <div class="header-flex">
        <h1>Tilstandsrapport Detaljer</h1>
    </div>
    <div class="description-text">
        <p><strong>ID:</strong> <span th:text="${report.conditionReportId}"></span></p>
        <p><strong>Lejeaftale ID:</strong> <span th:text="${report.rentalAgreementId}"></span></p>
        <p><strong>Rapportdato:</strong> <span th:text="${report.reportDate}"></span></p>
        <p><strong>Noter:</strong> <span th:text="${report.conditionNotes}"></span></p>
        <p><strong>Total pris:</strong> <span th:text="${totalDamagePrice}"></span></p>
    </div>
    <div class="action-section">
        <button type="button" class="btn-opret"
                th:onclick="|location.href='@{/conditionReport/damage/create?conditionReportId={id}(id=${report.conditionReportId})}'|">
            Tilf√∏j skade
        </button>
    </div>
    <h2>Skader</h2>
    <table class="car-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>Beskrivelse</th>
            <th>Pris</th>
            <th>Handling</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(damages)}">
            <td colspan="4" style="text-align: center;">Ingen skader fundet.</td>
        </tr>
        <tr th:each="damage : ${damages}">
            <td th:text="${damage.damageId}"></td>
            <td th:text="${damage.damageDescription}"></td>
            <td th:text="${damage.damagePrice}"></td>
            <td>
                <button type="button" class="btn-detaljer"
                        th:onclick="|location.href='@{/conditionReport/damage/edit/{id}(id=${damage.damageId})}'|">
                    Rediger
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>